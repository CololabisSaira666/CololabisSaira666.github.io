---
title: 计网总览
tags:
  - 学些有趣的
  - 课程收获
categories:
  - 计算机网络
cover: 'https://miaomiao-1-1319022947.cos.ap-beijing.myqcloud.com/202402071726.jpg'
abbrlink: 949a30b6
date: 2024-08-19 09:47:11
---

# 物理层

为上层协议提供了一个传输数据的可靠的物理媒体，物理层确保原始的数据可在各种物理媒体上传输。

## 物理层的基本概念

确定与传输介质的接口的一些特性（==完成比特流传输==）。

涉及的四个特性：

- 机械：
- 电气：接口电缆电压范围
- 功能：电压表示何种含义
- 过程：各种可能事件的出现顺序

## 数据通信的基础知识

### 基本术语

- 通信目的为**传送消息**，**消息（文字、图片等）的实体是数据**
- 信号：数据的电气或电磁表现，分<u>模拟信号</u>与<u>数字信号</u>
- 码元：不同离散数值的基本波形
  - 码元速率：单位时间内通过信道的码元数，波特
  - 数据速率：单位时间内通过信道的信息量（比特数），b/s或bps
- 单向通信：只有一个方向
- 半双工：双发均可发送，但不能同时
- 全双工：双方可以同时发送和接收（需要两条信道，通信效率最高）
- 基带信号：来自信源，分为数字基带和模拟基带，属于原始信号，需要**调制**。调制：用模拟信号承载数字或模拟数据
- 带通信号：基带信号载波调制后
- 调幅 AM
- 调频 FM
- 调相 PM
- **编码：数字信号承载数字或模拟数据**
- 

### 常见编码方式

p21

数字数据编码为数字信号：

- 不归0
- 归0
- 曼彻斯特编码
- 差分曼彻斯特编码

模拟信号编码为数字信号：即PCM，包括采样、量化和编码

- 采样：==奈奎斯特定理==，两倍采样频率与原频率
- 量化
- 编码

### 信道的极限容量

信号失真：码元传播速率越高，或信号传输距离越远，越严重。

数据传输定理：

| 名称         | 公式                                          | 作用 | 补充说明                     |
| ------------ | --------------------------------------------- | ---- | ---------------------------- |
| 奈奎斯特定理 | 理想低通信道最大数据传输率 = $2W log_2 V$     | p26  |                              |
| 香农定理     | 信道的理想数据传输效率 =  $W log_2 (1 + S/N)$ | p27  | 信噪比越大，数据传送速率越高 |

## 物理层的传输介质

引导型传输介质：

- 光纤：
- 双绞线：
- 同轴电缆：

非引导型传输介质：

- 无线电波：
- 微波、红外线和激光：

## 信道复用技术



# 数据链路层

关于同一个局域网内的分组转发问题，不经过路由器转发。

数据链路有必要的通信协议，用来控制数据传输。

## 数据链路层功能和设计要点

### 概述

实现**帧**的传输。

数据链路层使用的信道类型：

- 点对点：一对一
- 广播：一对多

**数据链路层为网络层提供的服务:**

| 名称             | 详情                                                         |
| ---------------- | ------------------------------------------------------------ |
| 无确认的无连接   | 发送数据帧前无需建立链路连接，也无需发回确认，适用于，以太网 |
| 有确认的无连接   | 发送数据帧前无需建立链路连接，必须发回确认，适用于，无线通信 |
| 有确认的面向连接 | 需要：建立数据链路，传输帧，释放数据链路，可靠性最高         |

**<font color = green>思考问题：</font>**

- 以太网与无线通信的区别
- 以太网一定需要网线连接吗

### 组帧方法与透明传输

出错时只重发出错的帧，不必完全重发，提高效率。

帧的数据部分：网络层的IP数据报。发送方根据一定的规则，将网络层递交的分组封装成帧，组帧主要解决帧定界、帧同步、透明传输等问题。

<font color = purple>组帧方法：</font>

| 方法                 | 如何做                                         |
| -------------------- | ---------------------------------------------- |
| 字符计数法           | 帧头部使用计数字段                             |
| 字符填充的首尾界定法 | 使用特定字符作为帧的开始与结束                 |
| 比特填充的首尾界定法 | 连续的1后面插入0                               |
| 违规编码法           | 规定电平对，借助违规编码序列界定帧的起始与终止 |

## 错误检测和纠正

差错控制分为：**自动重传请求-ARQ**、**前向纠错-FEC**。

检错编码：

- 奇偶校验码：
- 循环冗余码CRC：**计算方法！**

纠错编码：

- 海明编码：   

## 数据链路层协议

无限制单工协议

单工停-等协议

有噪声信道的单工协议（自动重传ARQ）

## 滑动窗口协议

窗口大小在传输时固定。

- 停止-等待：收到确认回复前不能发送其他数据帧
- 后退N帧：接收方只允许按顺序接受帧
- 选择重传：允许先接收不连续的序号，只重传错误数据帧

## PPP



# 网络层

## 概述

### 网络层提供的两种服务

可靠性负责?

**面向连接的服务，虚电路**：先建立连接，预留资源。

**无连接服务，数据报**：实际中，网络层向上提供**简单灵活，无连接的、尽最大努力交付的**数据报服务。发送的分组要包括发送端和接收端的完整地址，以便进行独立传输。<font color = blue>当出现故障时可以更新转发表。</font>

**虚电路与数据报服务的对比表。**

<img src="https://miaomiao-1-1319022947.cos.ap-beijing.myqcloud.com/202405312120.jpg" alt="202405312120" style="zoom:60%;" />

### 网络层功能

**<font color = red>异构网络互联</font>**

网络互联通常指：路由器进行网络互联和路由选择。

|  中继系统层次  |    具体名称    |
| :------------: | :------------: |
|     物理层     | 中继器、集线器 |
|   数据链路层   |  网桥或交换机  |
|     网络层     |     路由器     |
| 网络层以上层次 |      网关      |

**<font color = red>路由与转发</font>**

**路由选择：**按照分布式算法，动态选择路由，确定转发分组的路径。

**分组转发：**根据转发表，将用户的IP数据报从合适端口转发。

**<font color = red>拥塞控制</font>**

**开环控制：**静态预防，决定时不考虑此刻网络状况。

**闭环控制：**检测到网络发生阻塞后再调整。

## IPV4

### IPV4基本知识

#### 基本概念

与IP协议，非可靠投递，与其配套使用的还有：

- ARP：地址解析协议（被IP协议使用）
- ICMP：网络控制报文协议
- IGMP：网际组管理协议

#### 分组格式

一个IP数据报由首部和数据两部分组成。首部固定长度，20字节。首部的固定部分后面是可选字段，具体含义如下：

| 字段        | 意义                                                         |
| ----------- | :----------------------------------------------------------- |
| 生存时间TTL | 数据报在网络中可通过路由器数的最大值。路由器转发分组前先减1，TTL为0时丢弃分组。 |
| 协议        | 占8位。值为6，TCP；值为17，UDP。                             |

#### IP数据报分片

链路层的最大传送单元MTU严格限制IP数据报的长度，有时需要将IP分片。`片在目的地网络层被重新组装。`

==分片的计算：偏移值等。==关于偏移值的计算，为之前的有效数据/8（注意，这里“/8”的原因为，偏移值的单位是8字节）。

#### IP层分组转发过程

- 数据报首部提取目的主机IP地址A，得目的网络地址N；
- 

### IPV4地址与NAT

网络号与主机号，分为A、B、C类单播地址，为0，10，110；D类组播、E类保留之后使用。

表示特殊用途的IP：主号全为0为网络本身，主号全为1为本网络的广播地址，127.0.0.0保留作为环路自检地址。**IP地址的指派范围（p126）。**

路由器根据目的主机连接的网络号来转发分组，IP地址标志一台主机（路由器）和一条链路的接口。

**<font color = red>网络地址转换NAT</font>：**将专用网络地址转为公用地址，隐藏内部网络结构。NAT可以将私有IP地址转化为合法的全球IP地址。

### 划分子网与构造超网

# 传输层

- 传输层功能与提供的服务

- UDP协议

- TCP协议



# 应用层